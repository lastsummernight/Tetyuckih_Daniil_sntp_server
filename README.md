Тетюцких Даниил КН-202 (МЕН-239202), Практика по Протоколам интернета, 2 задача

2. Стоимость = 8 баллов. SNTP сервер точного времени, который «врет» на заданное в своем
конфигурационном файле число секунд. Сервер прослушивает 123 порт UDP. Время сервер
узнает либо у ОС, либо у другого надежного SNTP сервера точного времени, например,
time.windows.com. В конфигурационном файле сервера указано, на сколько секунд он должен
«врать», т. е. из точного времени сервер вычитает или прибавляет указанное число секунд.

Проверять работоспособность надо стандартным SNTP клиентом (можно взять любой по желанию студента).

В файле sntp_server.py при запуске запускается функция sntp_server(), которая считает задержку с файла "config.txt" и
откроет сокет на host='127.0.0.1'(localhost), port=123 и будет в вечном цикле ожидать запросы от клиентов, когда получит
любые данные от клиентов вызовет функцию sntp_pocket в котором будет собираться sntp протокол, где при вызове time.time() я буду вычитать
значение прочитанное с конфига(чтобы наврать на заданное количество секунд), также для перевода интовя сделал вспомогательную функцию int_in_bytes,
которая переводит положительное целое число в список, элементами которого являются
байты (4 байта), нужно это для кодирования времени отправки.

Тестировал сервер я с помощью своего собственного клиента sntp_client.py (т.к. я не особо понимаю что такое стандартный SNTP клиент).
Мой клиент отправляет пакет запроса на  ("127.0.0.1", 123), но также работает и с time.google.com, получает ответ и парсит его в список 12 интов,
каждый содержит 4 байта(т.к. sntp ответ 48 байт поделить на 12 частей), нам нужны только последние 8 байт, поэтому я рассматриваю только 10 и 11 индексы
списка 10 отвечает за секунды, а 11 за милисекунды, также в sntp протоколе к секундам добавляется константа 2208988800, её я вычитаю при получении ответа
(и прибавляю при формировке пакета). Получив время в формате секунд с 1970 года, я его перевожу в человекочитаемый формат методом ctime.
